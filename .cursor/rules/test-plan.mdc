# Plan Test√≥w - HomeHQ: Family Management Dashboard

## 1. Wprowadzenie i Cele Testowania

### 1.1 Cel Dokumentu
Niniejszy plan test√≥w definiuje kompleksowƒÖ strategiƒô testowania aplikacji HomeHQ - platformy do zarzƒÖdzania rodzinƒÖ zaprojektowanej w celu redukcji obciƒÖ≈ºenia mentalnego rodzic√≥w poprzez centralizacjƒô kalendarzy, list zada≈Ñ i notatek prywatnych.

### 1.2 Cele Testowania
- **Bezpiecze≈Ñstwo**: Weryfikacja izolacji danych miƒôdzy rodzinami i proper autoryzacji
- **Funkcjonalno≈õƒá**: Potwierdzenie dzia≈Çania wszystkich funkcji CRUD dla wydarze≈Ñ, zada≈Ñ i rodzin
- **Wydajno≈õƒá**: Sprawdzenie responsywno≈õci UI przy du≈ºych zbiorach danych
- **Dostƒôpno≈õƒá**: Walidacja zgodno≈õci z WCAG 2.1 AA
- **Integracja**: Potwierdzenie prawid≈Çowej wsp√≥≈Çpracy komponent√≥w frontend-backend

### 1.3 Zakres Projektu
HomeHQ to Single Page Application (SPA) zbudowana w oparciu o React 19, TypeScript 5, Vite 6, z backendem Supabase (PostgreSQL + Auth + RLS). Kluczowe funkcjonalno≈õci obejmujƒÖ zarzƒÖdzanie wydarzeniami kalendarzowymi, zadaniami rodzinnymi oraz strukturƒÖ rodziny z r√≥≈ºnymi rolami u≈ºytkownik√≥w.

---

## 2. Zakres Test√≥w

### 2.1 Komponenty Objƒôte Testami

#### Frontend (React 19 + TypeScript)
- ‚úÖ Komponenty UI (shadcn/ui + custom)
- ‚úÖ Custom hooks (useAuth, useEvents, useTasks, useFamilies, itd.)
- ‚úÖ Actions (React 19 Server Actions pattern)
- ‚úÖ Services (API clients)
- ‚úÖ Validations (Zod schemas)
- ‚úÖ Utils i helpers

#### Backend (Supabase)
- ‚úÖ RLS Policies (Row Level Security)
- ‚úÖ Database triggers i funkcje
- ‚úÖ Edge Functions (Deno/TypeScript)
- ‚úÖ Auth flows i session management

#### Integracja
- ‚úÖ Frontend ‚Üî Supabase API
- ‚úÖ Calendar (Schedule-X) integration
- ‚úÖ Optimistic UI updates
- ‚úÖ Real-time subscriptions

### 2.2 Obszary Wykluczone z Test√≥w
- ‚ùå Testowanie przeglƒÖdarek starszych ni≈º ES2022
- ‚ùå Testy wydajno≈õciowe powy≈ºej 10,000 r√≥wnoczesnych u≈ºytkownik√≥w
- ‚ùå Integracja z zewnƒôtrznymi serwisami (poza Supabase)

---

## 3. Typy Test√≥w do Przeprowadzenia

### 3.1 Testy Jednostkowe (Unit Tests)
**Framework**: Vitest + @testing-library/react  
**Pokrycie kodu**: minimum 80%

#### 3.1.1 Utils i Helpers
```typescript
// tests/utils/auth.utils.test.ts
// tests/utils/response.utils.test.ts  
// tests/utils/date.utils.test.ts
```

#### 3.1.2 Validations (Zod Schemas)
```typescript
// tests/validations/events.schema.test.ts
// tests/validations/tasks.schema.test.ts
// tests/validations/families.schema.test.ts
```

#### 3.1.3 Services (API Clients)
```typescript
// tests/services/events.service.test.ts
// tests/services/tasks.service.test.ts
// tests/services/families.service.test.ts
```

### 3.2 Testy Komponent√≥w (Component Tests)
**Framework**: Vitest + @testing-library/react + jsdom

#### 3.2.1 UI Components
```typescript
// tests/components/ui/Button.test.tsx
// tests/components/ui/Card.test.tsx
// tests/components/ui/DatePicker.test.tsx
```

#### 3.2.2 Feature Components
```typescript
// tests/components/events/CreateEventDialog.test.tsx
// tests/components/tasks/CreateTaskDialog.test.tsx
// tests/components/family/FamilyMembersSection.test.tsx
// tests/components/dashboard/CalendarArea.test.tsx
```

### 3.3 Testy Hook√≥w (Hooks Tests)
```typescript
// tests/hooks/useAuth.test.tsx
// tests/hooks/useEvents.test.tsx
// tests/hooks/useTasks.test.tsx
// tests/hooks/useCreateFamily.test.tsx
// tests/hooks/useDashboard.test.tsx
```

### 3.4 Testy Integracyjne (Integration Tests)
**Framework**: Vitest z mockami Supabase

#### 3.4.1 Actions (React 19 Server Actions)
```typescript
// tests/actions/createEvent.test.ts
// tests/actions/updateEvent.test.ts  
// tests/actions/deleteEvent.test.ts
// tests/actions/createTask.test.ts
// tests/actions/createFamily.test.ts
```

#### 3.4.2 End-to-End Flows
```typescript
// tests/integration/auth-flow.test.ts
// tests/integration/family-creation.test.ts
// tests/integration/event-management.test.ts
// tests/integration/task-management.test.ts
```

### 3.5 Testy Bazodanowe (SQL Tests)
**Framework**: SQL w ≈õrodowisku Supabase

#### 3.5.1 RLS Policies
```sql
-- tests/sql/test_rls_policies.sql
-- Weryfikacja izolacji danych miƒôdzy rodzinami
-- Testy r√≥l u≈ºytkownik√≥w (admin vs member vs child)
```

#### 3.5.2 Triggers i Funkcje
```sql
-- tests/sql/test_triggers_update_event.sql  
-- tests/sql/test_triggers_cascade_delete.sql
-- tests/sql/test_functions_generate_invite_code.sql
```

### 3.6 Testy Bezpiecze≈Ñstwa (Security Tests)
#### 3.6.1 Authentication & Authorization
- Weryfikacja token√≥w JWT
- Testy session expiry
- RLS policies bypass attempts
- Cross-family data access attempts

#### 3.6.2 Input Validation
- SQL injection protection  
- XSS prevention
- CSRF protection
- Input sanitization

### 3.7 Testy Wydajno≈õciowe (Performance Tests)
#### 3.7.1 Frontend Performance
- Bundle size analysis (Lighthouse)
- Component render performance
- Memory leaks detection
- Lazy loading validation

#### 3.7.2 Backend Performance  
- Database query optimization
- RLS policy performance impact
- Edge Functions cold start time
- Real-time subscription efficiency

---

## 4. Scenariusze Testowe dla Kluczowych Funkcjonalno≈õci

### 4.1 ZarzƒÖdzanie RodzinƒÖ

#### 4.1.1 Tworzenie Rodziny
**Scenariusz**: Administrator tworzy nowƒÖ rodzinƒô
```gherkin
Given u≈ºytkownik jest uwierzytelniony ale nie ma rodziny
When u≈ºytkownik wype≈Çnia formularz "Create Family" z nazwƒÖ "Kowalskowie"  
Then nowa rodzina zostaje utworzona w bazie danych
And u≈ºytkownik otrzymuje rolƒô "admin" 
And u≈ºytkownik zostaje przekierowany do Dashboard
```

#### 4.1.2 Do≈ÇƒÖczanie do Rodziny
**Scenariusz**: Cz≈Çonek do≈ÇƒÖcza do istniejƒÖcej rodziny przez kod zaproszenia
```gherkin
Given istnieje rodzina z wa≈ºnym kodem zaproszenia "ABC123"
When nowy u≈ºytkownik wprowadza kod "ABC123"
Then u≈ºytkownik zostaje dodany do rodziny z rolƒÖ "member"
And kod zaproszenia zostaje oznaczony jako wykorzystany
```

### 4.2 ZarzƒÖdzanie Wydarzeniami  

#### 4.2.1 Tworzenie Wydarzenia Prywatnego
**Scenariusz**: Rodzic tworzy prywatne wydarzenie
```gherkin
Given u≈ºytkownik ma rolƒô "admin" w rodzinie
When u≈ºytkownik tworzy wydarzenie z is_private=true
Then wydarzenie jest widoczne tylko dla tw√≥rcy
And dzieci nie widzƒÖ tego wydarzenia w kalendarzu
And inne cz≈Çonki rodziny nie widzƒÖ wydarzenia
```

#### 4.2.2 Edycja Wydarzenia z Uczestnikami
**Scenariusz**: Aktualizacja wydarzenia wp≈Çywa na uczestnik√≥w
```gherkin
Given wydarzenie "Wyjazd na narty" ma 3 uczestnik√≥w
When admin zmienia is_private na true  
Then wszyscy uczestnicy zostajƒÖ automatycznie usuniƒôci
And trigger "clean_participants_on_private" zostaje uruchomiony
```

### 4.3 ZarzƒÖdzanie Zadaniami

#### 4.3.1 Tworzenie Zadania z Przypisaniem
**Scenariusz**: Admin przypisuje zadanie cz≈Çonkowi rodziny
```gherkin
Given admin tworzy zadanie "Kup mleko"
When admin przypisuje zadanie do cz≈Çonka "Jan"
Then zadanie pojawia siƒô na li≈õcie zada≈Ñ Jana
And zadanie ma status "not completed"
And Jan otrzymuje powiadomienie (je≈õli w≈ÇƒÖczone)
```

#### 4.3.2 Optymistyczne Aktualizacje UI
**Scenariusz**: U≈ºytkownik oznacza zadanie jako wykonane
```gherkin
Given zadanie "Wyniesienie ≈õmieci" jest przypisane do u≈ºytkownika
When u≈ºytkownik klika checkbox "completed"
Then UI natychmiast pokazuje zadanie jako wykonane (useOptimistic)
And request jest wysy≈Çany do serwera w tle
If request fails Then UI wraca do stanu poprzedniego
```

### 4.4 Dashboard i Kalendarz

#### 4.4.1 Integracja Schedule-X
**Scenariusz**: Wydarzenia wy≈õwietlajƒÖ siƒô poprawnie w kalendarzu
```gherkin  
Given rodzina ma 5 wydarze≈Ñ w bie≈ºƒÖcym tygodniu
When u≈ºytkownik otwiera widok tygodnia
Then wszystkie wydarzenia sƒÖ widoczne w odpowiednich dniach/godzinach
And eventi prywatne sƒÖ widoczne tylko dla w≈Ça≈õciciela
And drag & drop funkcjonalno≈õƒá dzia≈Ça poprawnie
```

#### 4.4.2 Filtrowanie Tre≈õci
**Scenariusz**: Dziecko widzi tylko odpowiedniƒÖ zawarto≈õƒá
```gherkin
Given dziecko ma rolƒô "child" w rodzinie  
When dziecko otwiera dashboard
Then widzi tylko wydarzenia z is_private=false
And widzi tylko zadania przypisane do siebie
And nie ma dostƒôpu do ustawie≈Ñ rodziny
```

---

## 5. ≈örodowisko Testowe

### 5.1 ≈örodowiska

#### 5.1.1 Lokalne ≈örodowisko Deweloperskie
- **OS**: Windows, macOS, Linux
- **Node.js**: v18+ z npm/pnpm
- **Database**: Supabase Local Development
- **Browser**: Chrome 120+, Firefox 115+, Safari 16+

#### 5.1.2 CI/CD Environment (GitHub Actions)
- **Runner**: ubuntu-latest
- **Node.js**: v18, v20 (matrix)
- **Database**: Supabase staging instance
- **Headless browsers**: Chromium via Vitest

#### 5.1.3 Staging Environment
- **Platform**: Vercel Preview Deployments
- **Database**: Supabase staging project
- **Domain**: https://preview-*.vercel.app
- **Real-time testing**: WebSocket connections

### 5.2 Konfiguracja Test√≥w

#### 5.2.1 Environment Variables
```bash
# Test environment
VITE_SUPABASE_URL=https://test.supabase.co
VITE_SUPABASE_ANON_KEY=test-anon-key
DEV_MODE=true  # W≈ÇƒÖcza mock auth dla test√≥w
NODE_ENV=test
```

#### 5.2.2 Database Setup
```sql
-- Test data fixtures
INSERT INTO families (id, name) VALUES ('test-family-1', 'Test Family');
INSERT INTO profiles (id, family_id, display_name, role) 
VALUES ('test-admin', 'test-family-1', 'Admin Test', 'admin');
```

---

## 6. Narzƒôdzia do Testowania

### 6.1 Frontend Testing Stack

#### 6.1.1 Core Testing Framework
```json
{
  "vitest": "^1.1.0",
  "@vitest/ui": "^1.1.0",  
  "@testing-library/react": "^14.1.2",
  "@testing-library/jest-dom": "^6.1.5",
  "@testing-library/user-event": "^14.5.1",
  "jsdom": "^23.0.1"
}
```

#### 6.1.2 Mocking & Utilities  
```json
{
  "msw": "^2.0.11",           
  "happy-dom": "^12.10.3",   
  "c8": "^9.0.0"             
}
```

### 6.2 Database Testing

#### 6.2.1 Supabase Local Development
```bash
npm install -g supabase
supabase start               # Local Supabase stack
supabase db reset           # Reset to clean state  
supabase test db            # Run SQL tests
```

#### 6.2.2 SQL Testing Tools
```sql
-- pgTAP for advanced database testing
CREATE EXTENSION IF NOT EXISTS pgtap;
SELECT plan(42);  -- Number of tests
SELECT ok(true, 'Basic test passes');
SELECT finish();
```

### 6.3 Code Quality & Analysis

#### 6.3.1 Static Analysis
```json
{
  "@typescript-eslint/eslint-plugin": "^6.14.0",
  "eslint-plugin-react-hooks": "^4.6.0", 
  "eslint-plugin-jsx-a11y": "^6.8.0",
  "prettier": "^3.1.1"
}
```

#### 6.3.2 Bundle Analysis
```bash
npm run build:analyze       # webpack-bundle-analyzer
npm run lighthouse          # Performance auditing
```

---

## 7. Harmonogram Test√≥w

### 7.1 Faza Przygotowawcza (Tydzie≈Ñ 1)

#### Dzie≈Ñ 1-2: Setup ≈õrodowiska testowego  
- [ ] Konfiguracja Vitest + testing-library
- [ ] Setup mock√≥w dla Supabase 
- [ ] Przygotowanie test fixtures
- [ ] CI/CD pipeline dla test√≥w

#### Dzie≈Ñ 3-5: Testy jednostkowe (Utils & Services)
- [ ] Testy dla `/src/utils/*.ts` (100% coverage)
- [ ] Testy dla `/src/services/*.service.ts` 
- [ ] Testy dla Zod schemas w `/src/validations/`
- [ ] Weryfikacja typ√≥w TypeScript

### 7.2 Faza Rozwojowa (Tydzie≈Ñ 2-3)

#### Tydzie≈Ñ 2: Komponenty i Hooki
- [ ] Testy dla wszystkich custom hooks
- [ ] Testy komponent√≥w UI (shadcn/ui wrappers)
- [ ] Testy komponent√≥w feature (events, tasks, family)
- [ ] Testy accessibility (a11y)

#### Tydzie≈Ñ 3: Integracja i Actions  
- [ ] Testy React 19 Actions
- [ ] Testy integracyjne frontend ‚Üî backend
- [ ] Testy optymistic updates (useOptimistic)
- [ ] Testy real-time subscriptions

### 7.3 Faza Weryfikacyjna (Tydzie≈Ñ 4)

#### Dzie≈Ñ 1-3: Database & Security
- [ ] Testy SQL (RLS policies, triggers, functions)
- [ ] Testy bezpiecze≈Ñstwa (auth bypass, data isolation) 
- [ ] Testy wydajno≈õciowe (query optimization)
- [ ] Load testing dla Edge Functions

#### Dzie≈Ñ 4-5: End-to-End & Finalizacja
- [ ] E2E flows (pe≈Çne scenariusze u≈ºytkownika)
- [ ] Cross-browser testing  
- [ ] Performance regression testing
- [ ] Dokumentacja wynik√≥w test√≥w

---

## 8. Kryteria Akceptacji Test√≥w

### 8.1 Pokrycie Kodu (Code Coverage)

#### 8.1.1 Minimalne Progi Akceptacji
```typescript
// vitest.config.ts coverage thresholds  
coverage: {
  thresholds: {
    global: {
      branches: 80,
      functions: 85, 
      lines: 85,
      statements: 85
    },
    // Critical paths require higher coverage
    'src/services/': { lines: 95 },
    'src/actions/': { lines: 95 },
    'src/hooks/': { lines: 90 }
  }
}
```

#### 8.1.2 WyjƒÖtki od Pokrycia
- Pliki mockowe (`**/mockData.ts`)
- Konfiguracje (`**/*.config.*`)
- Type definitions (`**/*.d.ts`)
- Examples/demos (`src/components/examples/`)

### 8.2 Kryteria Funkcjonalne

#### 8.2.1 Bezpiecze≈Ñstwo ‚úÖ MUST PASS
- [ ] 100% test√≥w RLS policies przechodzi
- [ ] Brak mo≈ºliwo≈õci dostƒôpu do danych innych rodzin
- [ ] Wszystkie endpoints wymagajƒÖ prawid≈Çowej autentykacji
- [ ] Input validation blokuje malicious payloads

#### 8.2.2 Core Functionality ‚úÖ MUST PASS  
- [ ] CRUD operations dla wydarze≈Ñ dzia≈ÇajƒÖ poprawnie
- [ ] CRUD operations dla zada≈Ñ dzia≈ÇajƒÖ poprawnie  
- [ ] ZarzƒÖdzanie rodzinƒÖ i cz≈Çonkami bez b≈Çƒôd√≥w
- [ ] Dashboard loading i real-time updates

#### 8.2.3 User Experience ‚úÖ SHOULD PASS
- [ ] Wszystkie formularze majƒÖ proper validation
- [ ] Loading states sƒÖ widoczne podczas API calls
- [ ] Error messages sƒÖ user-friendly
- [ ] Accessibility score ‚â• 90 (Lighthouse)

### 8.3 Kryteria Wydajno≈õciowe

#### 8.3.1 Frontend Performance
```typescript
// Bundle size limits
expect(bundleSize).toBeLessThan(500); // KB (gzipped)
expect(initialLoadTime).toBeLessThan(2000); // ms
expect(componentRenderTime).toBeLessThan(100); // ms
```

#### 8.3.2 Database Performance
```sql  
-- Query execution time limits
EXPLAIN ANALYZE SELECT * FROM events WHERE family_id = $1;
-- Expected: < 10ms for family events fetch
```

---

## 9. Role i Odpowiedzialno≈õci w Procesie Testowania

### 9.1 Team Structure

#### 9.1.1 QA Engineer (Lead)
**Odpowiedzialno≈õci:**
- [ ] Koordynacja ca≈Çego procesu testowania
- [ ] Review plan√≥w testowych i test cases
- [ ] Eksportowanie raport√≥w z pokrycia kodu
- [ ] Mentoring developers w best practices

**Deliverables:**
- Test plan (ten dokument)
- Test execution reports
- Coverage analysis
- Performance benchmarks

#### 9.1.2 Frontend Developer  
**Odpowiedzialno≈õci:**
- [ ] Implementacja test√≥w jednostkowych dla komponent√≥w React
- [ ] Setup i maintenance testing infrastructure (Vitest)
- [ ] Implementacja integration tests dla custom hooks
- [ ] A11y testing z @testing-library/jest-dom

**Test Categories:**
- Unit: Components, Hooks, Utils
- Integration: Actions, Flows
- A11y: Keyboard navigation, ARIA

#### 9.1.3 Backend Developer
**Odpowiedzialno≈õci:**  
- [ ] SQL testy dla RLS policies i triggers
- [ ] Setup Supabase testing environment
- [ ] Edge Functions testing (Deno tests)
- [ ] Database performance optimization

**Test Categories:**
- SQL: RLS, Triggers, Functions
- Security: Auth flows, Data isolation  
- Performance: Query optimization

#### 9.1.4 DevOps Engineer
**Odpowiedzialno≈õci:**
- [ ] CI/CD pipeline dla automated testing
- [ ] Test environments provisioning (staging)
- [ ] Monitoring i alerting dla test failures  
- [ ] Integration z GitHub Actions

**Deliverables:**
- CI/CD pipeline configs
- Automated test reporting
- Environment setup scripts

### 9.2 Approval Matrix

#### 9.2.1 Test Plan Approval
| Role | Review | Approve |  
|------|--------|---------|
| QA Lead | ‚úÖ | ‚úÖ |
| Frontend Dev | ‚úÖ | ‚ùå |  
| Backend Dev | ‚úÖ | ‚ùå |
| Tech Lead | ‚úÖ | ‚úÖ |

#### 9.2.2 Test Execution Sign-off
```mermaid
graph TD
    A[Unit Tests Pass] --> B{Coverage ‚â• 80%?}
    B -->|Yes| C[Component Tests]
    B -->|No| D[Block Release]
    C --> E[Integration Tests]
    E --> F[SQL Tests]  
    F --> G{All Critical Tests Pass?}
    G -->|Yes| H[‚úÖ Release Approved]
    G -->|No| I[‚ùå Fix Required]
```

---

## 10. Procedury Raportowania B≈Çƒôd√≥w

### 10.1 Bug Classification

#### 10.1.1 Severity Levels
**P0 - Blocker** üö®
- Security vulnerability (data leak between families)
- Complete application crash  
- Authentication bypass
- Data corruption/loss

**P1 - Critical** ‚ö†Ô∏è  
- Core functionality broken (can't create events/tasks)
- Database triggers not firing
- Performance regression >50%
- Cross-browser compatibility issue

**P2 - Major** ‚ö°
- Feature partially broken
- UI/UX degradation
- Non-critical performance issue
- Missing validation

**P3 - Minor** üí°
- Visual glitches
- Typos in UI  
- Enhancement requests
- Documentation issues

### 10.2 Bug Report Template

#### 10.2.1 Required Fields
```markdown
## Bug Report: [Concise Title]

### Environment
- **Browser**: Chrome 120.0.6099.109
- **OS**: Windows 11 / macOS Ventura / Ubuntu 22.04
- **Environment**: Dev / Staging / Production  
- **User Role**: admin / member / child
- **Family ID**: [dla izolacji ≈õrodowiska]

### Steps to Reproduce
1. Login as admin user
2. Navigate to /dashboard  
3. Click "Create Event"
4. Fill form with: [specific data]
5. Click "Save Event"

### Expected Behavior
Event should be created and appear in calendar

### Actual Behavior  
Form shows validation error: "Invalid date format"

### Additional Context
- Console errors: [attach screenshot/logs]
- Network requests: [attach DevTools screenshots]  
- Database state: [if relevant]

### Impact Assessment
- **Users Affected**: All admin users
- **Workaround Available**: Yes/No - [describe]
- **Data Loss Risk**: High/Medium/Low
```

### 10.3 Bug Triage Process

#### 10.3.1 Initial Assessment (24h)
1. **QA Lead** verifies reproducibility
2. **Tech Lead** assigns severity level  
3. **Developer** assigned based on component affected

#### 10.3.2 Resolution Timeline SLA
```typescript
interface BugSLA {
  P0: '4 hours',   // Immediate hotfix
  P1: '2 days',    // Next sprint  
  P2: '1 week',    // Current/next sprint
  P3: '2-4 weeks'  // Backlog prioritization
}
```

### 10.4 Testing Tools Integration

#### 10.4.1 Automated Bug Detection
```javascript
// vitest.config.ts - fail on console errors during tests
setupFilesAfterEnv: ['<rootDir>/tests/setup.ts'],

// tests/setup.ts  
beforeEach(() => {
  const originalError = console.error;
  console.error = (...args) => {
    if (args[0]?.includes('Warning: ReactDOMTestUtils.act')) return;
    throw new Error(`Console error detected: ${args.join(' ')}`);
  };
});
```

#### 10.4.2 GitHub Issues Integration  
```yaml
# .github/workflows/test.yml
- name: Create Issue on Test Failure
  if: failure()
  uses: actions/github-script@v6
  with:
    script: |
      github.rest.issues.create({
        owner: context.repo.owner,
        repo: context.repo.repo,
        title: `Test Failure: ${context.workflow} - ${context.sha.slice(0,7)}`,
        body: `Automated test failure detected...`,
        labels: ['bug', 'automated-detection', 'needs-triage']
      });
```

---

## 11. Dodatki i Za≈ÇƒÖczniki

### 11.1 Test Data Fixtures

#### 11.1.1 Database Fixtures
```sql
-- tests/fixtures/families.sql
INSERT INTO families (id, name, created_at) VALUES 
  ('test-family-1', 'Kowalski Family', '2026-01-01T00:00:00Z'),
  ('test-family-2', 'Smith Family', '2026-01-01T00:00:00Z');

-- tests/fixtures/profiles.sql  
INSERT INTO profiles (id, family_id, display_name, role) VALUES
  ('admin-1', 'test-family-1', 'Jan Kowalski', 'admin'),
  ('child-1', 'test-family-1', 'Anna Kowalska', 'child'),
  ('member-1', 'test-family-1', 'Maria Kowalska', 'member');
```

#### 11.1.2 Frontend Mock Data
```typescript
// tests/fixtures/mockEvents.ts
export const mockEvents: EventResponse[] = [
  {
    id: 'event-1',
    family_id: 'test-family-1', 
    title: 'Rodzinny obiad',
    start_time: '2026-02-01T12:00:00Z',
    end_time: '2026-02-01T14:00:00Z',
    is_private: false,
    created_by: 'admin-1'
  }
];
```

### 11.2 Performance Benchmarks

#### 11.2.1 Expected Performance Targets
```typescript
// tests/performance/benchmarks.test.ts
const PERFORMANCE_TARGETS = {
  bundleSize: {
    total: 500,      // KB gzipped
    vendor: 300,     // KB gzipped  
    app: 200         // KB gzipped
  },
  renderTimes: {
    Dashboard: 100,  // ms initial render
    Calendar: 150,   // ms with 50 events
    TaskList: 50     // ms with 100 tasks  
  },
  apiResponse: {
    getEvents: 200,  // ms
    createEvent: 300, // ms
    updateEvent: 250  // ms
  }
};
```

### 11.3 Browser Compatibility Matrix

| Feature | Chrome 120+ | Firefox 115+ | Safari 16+ | Edge 120+ |
|---------|-------------|--------------|------------|-----------|
| React 19 Actions | ‚úÖ | ‚úÖ | ‚úÖ | ‚úÖ |
| CSS Grid Calendar | ‚úÖ | ‚úÖ | ‚úÖ | ‚úÖ |
| WebSocket (realtime) | ‚úÖ | ‚úÖ | ‚ö†Ô∏è | ‚úÖ |
| Service Workers | ‚úÖ | ‚úÖ | ‚úÖ | ‚úÖ |
| ES2022 features | ‚úÖ | ‚úÖ | ‚úÖ | ‚úÖ |

**Legend:**
- ‚úÖ Fully supported
- ‚ö†Ô∏è Requires polyfill/fallback
- ‚ùå Not supported

---

## 12. Podsumowanie

Ten plan test√≥w zapewnia kompleksowe pokrycie wszystkich krytycznych aspekt√≥w aplikacji HomeHQ, ze szczeg√≥lnym uwzglƒôdnieniem specyfiki nowoczesnego stosu technologicznego (React 19, TypeScript 5, Supabase) oraz wymaga≈Ñ bezpiecze≈Ñstwa wynikajƒÖcych z charakteru aplikacji rodzinnej.

Kluczowe za≈Ço≈ºenia planu:
- **Bezpiecze≈Ñstwo najpierw** - priorytet dla test√≥w RLS i izolacji danych
- **Wysoka jako≈õƒá UX** - testy accessibility i performance 
- **Automation-first** - CI/CD integration dla continuous testing
- **Jasne role** - ka≈ºdy cz≈Çonek zespo≈Çu wie za co odpowiada

Plan bƒôdzie aktualizowany w miarƒô rozwoju projektu i ewolucji wymaga≈Ñ biznesowych.